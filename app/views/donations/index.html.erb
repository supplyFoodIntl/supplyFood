<p id="notice"><%= notice %></p>

<h1>Donations</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Created at</th>
      <th>Available start</th>
      <th>Available end</th>
      <th>Donor</th>
      <th>Courier</th>
      <th>Volunteer</th>
      <th>Status</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @donations.each do |donation| %>
      <tr>
        <td><%= link_to donation.id, donation, class:"btn btn-outline-primary btn-sm" %> </td>
        <td><%= donation.created_at %></td>
        <td><%= donation.available_start %></td>
        <td><%= donation.available_end %></td>
        <td><%= User.find_by("donor_id = #{donation.donor.id}").full_name %></td>
        <td><%= donation.supplier %></td>
        <td><%= donation.volunteer %></td>
        <td><%= donation.status %></td>     
        <td><%= link_to 'Set Collect', confirm_donation_path(donation), class:"btn btn-outline-primary btn-sm" %></td>
        <td><%= link_to 'Receive', collect_donation_path(donation), class:"btn btn-outline-primary btn-sm" %></td>
        <td><%= link_to 'Abort', abort_donation_path(donation), class:"btn btn-outline-primary btn-sm" %></td>
        <td><%= link_to 'Destroy', donation, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-outline-primary btn-sm" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Offline Donation', new_donation_path %>

